2025-09-29 15:21:08,941 - ai_analysis_engine.orchestrator.orchestrator - INFO - Orchestrator initialized successfully
2025-09-29 15:21:08,941 - ai_analysis_engine.orchestrator.orchestrator - INFO - Starting analysis for evaluation_result_id: 3
2025-09-29 15:21:08,973 - ai_analysis_engine.orchestrator.orchestrator - INFO - Task DF mode - Algorithm ID: 3
2025-09-29 15:21:08,975 - ai_analysis_engine.orchestrator.orchestrator - INFO - Retrieved algorithm output for task DF: True
2025-09-29 15:21:08,975 - ai_analysis_engine.orchestrator.orchestrator - INFO - Retrieved core output for task DF: True
2025-09-29 15:21:08,976 - ai_analysis_engine.orchestrator.orchestrator - INFO - Loaded evaluation data: 20 records
2025-09-29 15:21:08,976 - ai_analysis_engine.orchestrator.orchestrator - INFO - Running performance analysis...
2025-09-29 15:21:08,976 - ai_analysis_engine.performance_analyzer.performance_analyzer - INFO - Starting performance analysis
2025-09-29 15:21:09,527 - ai_analysis_engine.performance_analyzer.performance_analyzer - INFO - Performance analysis completed: {'total_samples': 20, 'accuracy': 0.45, 'correct_predictions': 9, 'incorrect_predictions': 11}
2025-09-29 15:21:09,527 - ai_analysis_engine.orchestrator.orchestrator - INFO - Performance analysis completed: {'total_samples': 20, 'accuracy': 0.45, 'correct_predictions': 9, 'incorrect_predictions': 11}
2025-09-29 15:21:09,527 - ai_analysis_engine.orchestrator.orchestrator - INFO - Running instance analysis...
2025-09-29 15:21:09,527 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - Starting legacy instance analysis via adapter
2025-09-29 15:21:09,527 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - evaluation_data keys: ['metadata', 'data', 'evaluation_result_id', 'algorithm_outputs', 'core_outputs']
2025-09-29 15:21:09,531 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Initializing AI Analysis Engine...
2025-09-29 15:21:09,991 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Initialized all workflow nodes
2025-09-29 15:21:10,001 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Built and compiled LangGraph workflow
2025-09-29 15:21:10,001 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - AI Analysis Engine initialized successfully
2025-09-29 15:21:10,002 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - Original core_dir: ../DataWareHouse/02_core_lib_output/v1.0.0/4
2025-09-29 15:21:10,002 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - Replaced core_dir: ../development_datas/02_core_lib_output/v1.0.0/4
2025-09-29 15:21:10,002 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - Final core_dir: ../development_datas/02_core_lib_output/v1.0.0/4
2025-09-29 15:21:10,002 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - Core dir exists, contents: ['WIN_20250819_10_16_17_Pro_analysis.csv', 'WIN_20250819_10_16_17_Pro_analysis_debug.mp4']
2025-09-29 15:21:10,002 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - eval_df type: <class 'pandas.core.frame.DataFrame'>, is None: False
2025-09-29 15:21:10,002 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - eval_df columns: ['task_id', 'video_ID', 'tag_ID', 'task_ID', 'start', 'end', 'expected_is_drowsy', 'is_drowsy', 'is_correct', 'algorithm_output_ID', 'algorithm_output_dir', 'core_lib_output_ID', 'core_lib_output_dir', 'video_dir']
2025-09-29 15:21:10,003 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - eval_df shape: (20, 14)
2025-09-29 15:21:10,003 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - Processing expected_is_drowsy column
2025-09-29 15:21:10,004 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - is_correct values: {0: 11, 1: 9}
2025-09-29 15:21:10,004 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - Filtering to failed tasks only: 11 failed tasks out of 20 total tasks
2025-09-29 15:21:10,005 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - Before expansion - algorithm_outputs: 4, core_outputs: 1, expected_results: 11
2025-09-29 15:21:10,005 - ai_analysis_engine.instance_analyzer.instance_analyzer - INFO - After expansion - algorithm_outputs: 11, core_outputs: 11, expected_results: 11
2025-09-29 15:21:10,006 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:21:10,006 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:21:10,006 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:21:10,009 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:21:10,010 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:21:10,569 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:21:10,571 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:21:10,572 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:21:10,572 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:21:10,585 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:21:10,593 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:21:10,593 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:21:10,594 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:21:10,595 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:21:10,595 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 1_4
2025-09-29 15:21:10,596 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:21:10,596 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:21:10,621 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with 1041 rows
2025-09-29 15:21:10,621 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with shape (1041, 6)
2025-09-29 15:21:10,648 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:21:10,648 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:21:10,648 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['1', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:21:10,648 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 1 with shape (1041, 6)
2025-09-29 15:21:10,680 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 1: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:21:10,680 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:21:10,709 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:21:10,710 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:21:10,711 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:21:10,712 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:21:10,712 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:21:10,712 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:21:11,803 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:21:11,803 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:21:11,804 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:21:11,804 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:21:12,653 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:21:16,686 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:21:21,240 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:21:23,593 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold']... (confidence: 0.85)
2025-09-29 15:21:23,593 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold']
2025-09-29 15:21:23,593 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:21:23,594 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:21:23,594 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5}
2025-09-29 15:21:23,594 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:21:23,594 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:21:23,594 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 1_4
2025-09-29 15:21:23,594 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 1_4
2025-09-29 15:21:23,595 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:21:23,596 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 1_4
2025-09-29 15:21:23,596 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:21:23,598 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with 1041 rows
2025-09-29 15:21:23,599 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with shape (1041, 6)
2025-09-29 15:21:23,603 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:21:23,604 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:21:25,102 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:21:25,102 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:21:25,104 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 1_4
2025-09-29 15:21:25,105 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:21:25,106 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 1_4
2025-09-29 15:21:25,106 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:21:25,106 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 1_4
2025-09-29 15:21:27,935 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:21:32,690 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:21:33,868 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:22:18,783 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - WARNING - Failed to parse hypotheses: LLM JSON extraction failed: Expecting value: line 1 column 1 (char 0)
2025-09-29 15:22:18,783 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 1_4
2025-09-29 15:22:18,784 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 1_4
2025-09-29 15:22:18,785 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:22:18,786 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 1_4
2025-09-29 15:22:18,787 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:22:18,787 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 1_4
2025-09-29 15:22:18,788 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:22:18,788 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 1_4
2025-09-29 15:22:20,510 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:22:25,107 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:22:26,490 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:22:26,491 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:22:26,491 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:22:26,491 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:22:26,493 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:22:26,493 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 1_4
2025-09-29 15:22:26,493 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:22:38,542 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:22:38,543 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:22:38,543 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:22:38,543 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:22:38,543 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:22:39,444 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:22:39,445 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:22:39,446 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:22:45,549 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:22:45,550 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:22:45,550 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:22:45,551 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:22:45,551 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:22:53,977 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:22:55,098 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:22:55,963 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\1_4\core_output_plot.png
2025-09-29 15:22:55,964 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\1_4: ['core_output_plot.png']
2025-09-29 15:22:55,964 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:22:55,964 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 1_4: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:23:13,336 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 1_4: 950 characters
2025-09-29 15:23:13,336 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 1_4
2025-09-29 15:23:13,337 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:23:13,338 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\1_4_report.md
2025-09-29 15:23:13,338 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\1_4_report.md
2025-09-29 15:23:13,345 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:23:13,345 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:23:13,345 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:23:13,349 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:23:13,349 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:23:13,349 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:23:13,352 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:23:13,353 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:23:13,354 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:23:13,355 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:23:13,355 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:23:13,356 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:23:13,366 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:23:13,374 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:23:13,375 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:23:13,375 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:23:13,377 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:23:13,377 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 2_9
2025-09-29 15:23:13,378 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:23:13,378 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:23:13,401 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with 1159 rows
2025-09-29 15:23:13,401 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with shape (1159, 6)
2025-09-29 15:23:13,407 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:23:13,407 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:23:13,407 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['2', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:23:13,407 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 2 with shape (1159, 6)
2025-09-29 15:23:13,413 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 2: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:23:13,413 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:23:13,437 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:23:13,437 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:23:13,438 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:23:13,439 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:23:13,439 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:23:13,439 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:23:14,788 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:23:14,788 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:23:14,789 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:23:14,789 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:23:15,085 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:23:18,184 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:23:21,146 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:23:25,359 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - WARNING - Failed to parse LLM threshold response as JSON: Expecting value: line 1 column 1 (char 0)
2025-09-29 15:23:25,359 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - Raw response: 以下の仕様書から抽出した閾値情報は以下の通りです。

```json
{
    "thresholds": {
        "leye_openness_threshold": 0.0,
        "reye_openness_threshold": 0.0,
        "confidence_threshold": 0.0,
        "close_threshold":...
2025-09-29 15:23:25,360 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - Fallback regex extracted thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5, 'confidence_score': 0.85}
2025-09-29 15:23:25,360 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold', 'confidence_score']
2025-09-29 15:23:25,361 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:23:25,361 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:23:25,361 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5, 'confidence_score': 0.85}
2025-09-29 15:23:25,361 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:23:25,361 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:23:25,361 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 2_9
2025-09-29 15:23:25,362 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 2_9
2025-09-29 15:23:25,362 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:23:25,363 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 2_9
2025-09-29 15:23:25,363 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:23:25,365 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with 1159 rows
2025-09-29 15:23:25,365 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with shape (1159, 6)
2025-09-29 15:23:25,371 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:23:25,371 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:23:26,304 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:23:26,304 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:23:26,306 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 2_9
2025-09-29 15:23:26,307 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:23:26,308 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 2_9
2025-09-29 15:23:26,309 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:23:26,309 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 2_9
2025-09-29 15:23:28,280 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.85)
2025-09-29 15:23:32,838 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:23:36,200 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:24:21,174 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted JSON from text
2025-09-29 15:24:21,174 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 2_9
2025-09-29 15:24:21,174 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 2_9
2025-09-29 15:24:21,175 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:24:21,176 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 2_9
2025-09-29 15:24:21,176 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:24:21,177 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 2_9
2025-09-29 15:24:21,177 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:24:21,178 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 2_9
2025-09-29 15:24:22,877 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.85)
2025-09-29 15:24:27,065 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:24:28,173 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:24:28,174 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:24:28,174 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:24:28,174 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:24:28,174 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:24:28,175 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 2_9
2025-09-29 15:24:28,175 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:24:29,678 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.85)
2025-09-29 15:24:29,679 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:24:29,679 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:24:29,679 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:24:29,680 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:24:30,705 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:24:30,706 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:24:30,706 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:24:31,861 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:24:31,862 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:24:31,862 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:24:31,862 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:24:31,863 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:24:34,327 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:24:35,430 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:24:36,223 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\2_9\core_output_plot.png
2025-09-29 15:24:36,224 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\2_9: ['core_output_plot.png']
2025-09-29 15:24:36,224 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:24:36,224 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 2_9: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:24:52,954 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 2_9: 955 characters
2025-09-29 15:24:52,955 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 2_9
2025-09-29 15:24:52,956 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:24:52,957 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\2_9_report.md
2025-09-29 15:24:52,957 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\2_9_report.md
2025-09-29 15:24:52,963 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:24:52,963 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:24:52,964 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:24:52,965 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:24:52,965 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:24:52,965 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:24:52,967 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:24:52,968 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:24:52,969 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:24:52,969 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:24:52,970 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:24:52,970 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:24:52,978 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:24:52,987 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:24:52,987 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:24:52,988 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:24:52,989 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:24:52,989 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 3_12
2025-09-29 15:24:52,990 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:24:52,990 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:24:53,010 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with 1517 rows
2025-09-29 15:24:53,010 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with shape (1517, 6)
2025-09-29 15:24:53,015 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:24:53,016 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:24:53,016 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['3', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:24:53,016 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 3 with shape (1517, 6)
2025-09-29 15:24:53,021 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 3: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:24:53,022 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:24:53,044 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:24:53,045 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:24:53,046 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:24:53,046 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:24:53,046 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:24:53,046 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:24:53,363 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:24:53,363 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:24:53,363 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:24:53,363 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:24:55,024 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:24:59,280 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:25:03,177 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:25:10,433 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - WARNING - Failed to parse LLM threshold response as JSON: Expecting value: line 1 column 1 (char 0)
2025-09-29 15:25:10,433 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - Raw response: 以下の仕様書から抽出した閾値情報は次の通りです。

```json
{
    "thresholds": {
        "leye_openness_threshold": 0.0,
        "reye_openness_threshold": 0.0,
        "confidence_threshold": 0.0,
        "close_threshold": ...
2025-09-29 15:25:10,433 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - Fallback regex extracted thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5, 'confidence_score': 0.85}
2025-09-29 15:25:10,434 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold', 'confidence_score']
2025-09-29 15:25:10,434 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:25:10,435 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:25:10,435 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5, 'confidence_score': 0.85}
2025-09-29 15:25:10,435 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:25:10,435 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:25:10,435 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 3_12
2025-09-29 15:25:10,435 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 3_12
2025-09-29 15:25:10,436 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:25:10,437 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 3_12
2025-09-29 15:25:10,437 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:25:10,439 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with 1517 rows
2025-09-29 15:25:10,439 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with shape (1517, 6)
2025-09-29 15:25:10,444 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:25:10,445 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:25:11,289 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:25:11,290 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:25:11,292 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 3_12
2025-09-29 15:25:11,292 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:25:11,293 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 3_12
2025-09-29 15:25:11,294 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:25:11,294 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 3_12
2025-09-29 15:25:13,014 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:25:17,798 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:25:19,005 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:25:56,181 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - WARNING - Failed to parse hypotheses: LLM JSON extraction failed: Expecting value: line 1 column 1 (char 0)
2025-09-29 15:25:56,181 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 3_12
2025-09-29 15:25:56,181 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 3_12
2025-09-29 15:25:56,182 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:25:56,183 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 3_12
2025-09-29 15:25:56,183 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:25:56,184 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 3_12
2025-09-29 15:25:56,184 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:25:56,185 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 3_12
2025-09-29 15:25:58,174 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:26:02,670 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:26:08,170 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:26:08,171 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:26:08,171 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:26:08,172 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:26:08,172 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:26:08,172 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 3_12
2025-09-29 15:26:08,172 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:26:09,687 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:26:09,687 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:26:09,688 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:26:09,688 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:26:09,688 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:26:10,937 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:26:10,938 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:26:10,938 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:26:12,184 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.85)
2025-09-29 15:26:12,185 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:26:12,185 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:26:12,186 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:26:12,186 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:26:13,587 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:26:14,593 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:26:15,399 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\3_12\core_output_plot.png
2025-09-29 15:26:15,400 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\3_12: ['core_output_plot.png']
2025-09-29 15:26:15,400 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:26:15,400 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 3_12: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:26:28,735 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 3_12: 924 characters
2025-09-29 15:26:28,736 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 3_12
2025-09-29 15:26:28,737 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:26:28,738 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\3_12_report.md
2025-09-29 15:26:28,738 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\3_12_report.md
2025-09-29 15:26:28,745 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:26:28,745 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:26:28,745 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:26:28,746 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:26:28,747 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:26:28,747 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:26:28,749 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:26:28,750 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:26:28,751 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:26:28,751 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:26:28,752 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:26:28,752 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:26:28,761 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:26:28,856 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:26:28,857 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:26:28,857 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:26:28,858 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:26:28,858 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 3_13
2025-09-29 15:26:28,859 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:26:28,859 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:26:28,891 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\4.csv with 1347 rows
2025-09-29 15:26:28,891 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\4.csv with shape (1347, 6)
2025-09-29 15:26:28,897 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:26:28,898 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:26:28,898 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['4', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:26:28,898 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 4 with shape (1347, 6)
2025-09-29 15:26:28,903 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 4: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:26:28,904 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:26:28,929 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:26:28,930 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:26:28,931 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:26:28,931 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:26:28,931 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:26:28,931 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:26:29,257 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:26:29,257 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:26:29,257 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:26:29,257 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:26:29,529 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:26:35,593 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:26:38,128 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:26:44,876 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - WARNING - Failed to parse LLM threshold response as JSON: Expecting value: line 1 column 1 (char 0)
2025-09-29 15:26:44,876 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - Raw response: 以下の仕様書から抽出した閾値情報は次の通りです。

```json
{
    "thresholds": {
        "leye_openness_threshold": 0.0,
        "reye_openness_threshold": 0.0,
        "confidence_threshold": 0.0,
        "close_threshold": ...
2025-09-29 15:26:44,876 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - Fallback regex extracted thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5, 'confidence_score': 0.85}
2025-09-29 15:26:44,876 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold', 'confidence_score']
2025-09-29 15:26:44,876 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:26:44,877 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:26:44,877 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5, 'confidence_score': 0.85}
2025-09-29 15:26:44,877 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:26:44,877 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:26:44,877 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 3_13
2025-09-29 15:26:44,878 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 3_13
2025-09-29 15:26:44,878 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:26:44,879 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 3_13
2025-09-29 15:26:44,880 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:26:44,882 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\4.csv with 1347 rows
2025-09-29 15:26:44,882 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\4.csv with shape (1347, 6)
2025-09-29 15:26:44,887 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:26:44,887 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:26:45,948 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:26:45,948 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:26:45,950 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 3_13
2025-09-29 15:26:45,951 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:26:45,951 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 3_13
2025-09-29 15:26:45,952 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:26:45,952 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 3_13
2025-09-29 15:26:47,772 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:26:51,459 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:26:52,471 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.9)
2025-09-29 15:27:28,884 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted JSON from text
2025-09-29 15:27:28,884 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 3_13
2025-09-29 15:27:28,885 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 3_13
2025-09-29 15:27:28,885 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:27:28,886 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 3_13
2025-09-29 15:27:28,887 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:27:28,888 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 3_13
2025-09-29 15:27:28,888 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:27:28,889 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 3_13
2025-09-29 15:27:31,124 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:27:35,050 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:27:35,975 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:27:35,976 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:27:35,976 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:27:35,976 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:27:35,977 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:27:35,977 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 3_13
2025-09-29 15:27:35,977 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:27:37,128 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:27:37,129 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:27:37,129 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:27:37,129 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:27:37,130 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:27:38,016 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:27:38,017 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:27:38,017 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:27:39,113 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:27:39,114 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:27:39,114 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:27:39,114 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:27:39,115 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:27:40,380 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:27:41,228 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:27:42,034 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\3_13\core_output_plot.png
2025-09-29 15:27:42,035 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\3_13: ['core_output_plot.png']
2025-09-29 15:27:42,035 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:27:42,035 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 3_13: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:27:55,430 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 3_13: 964 characters
2025-09-29 15:27:55,431 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 3_13
2025-09-29 15:27:55,432 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:27:55,435 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\3_13_report.md
2025-09-29 15:27:55,436 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\3_13_report.md
2025-09-29 15:27:55,442 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:27:55,442 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:27:55,442 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:27:55,443 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:27:55,443 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:27:55,444 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:27:55,446 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:27:55,447 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:27:55,447 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:27:55,448 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:27:55,449 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:27:55,449 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:27:55,459 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:27:55,468 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:27:55,469 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:27:55,470 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:27:55,470 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:27:55,471 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 3_14
2025-09-29 15:27:55,472 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:27:55,472 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:27:55,473 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with 1041 rows
2025-09-29 15:27:55,473 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with shape (1041, 6)
2025-09-29 15:27:55,479 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:27:55,480 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:27:55,480 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['1', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:27:55,480 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 1 with shape (1041, 6)
2025-09-29 15:27:55,486 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 1: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:27:55,486 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:27:55,510 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:27:55,511 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:27:55,512 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:27:55,512 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:27:55,512 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:27:55,512 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:27:55,824 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:27:55,824 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:27:55,825 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:27:55,825 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:27:56,066 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:27:59,334 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:28:02,110 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:28:05,020 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold']... (confidence: 0.85)
2025-09-29 15:28:05,020 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold']
2025-09-29 15:28:05,020 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:28:05,021 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:28:05,021 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5}
2025-09-29 15:28:05,021 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:28:05,021 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:28:05,021 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 3_14
2025-09-29 15:28:05,021 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 3_14
2025-09-29 15:28:05,022 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:28:05,023 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 3_14
2025-09-29 15:28:05,023 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:28:05,025 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with 1041 rows
2025-09-29 15:28:05,025 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with shape (1041, 6)
2025-09-29 15:28:05,030 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:28:05,031 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:28:05,906 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:28:05,906 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:28:05,909 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 3_14
2025-09-29 15:28:05,910 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:28:05,911 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 3_14
2025-09-29 15:28:05,912 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:28:05,912 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 3_14
2025-09-29 15:28:07,580 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:28:10,883 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:28:11,841 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:28:57,458 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted JSON from text
2025-09-29 15:28:57,458 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 3_14
2025-09-29 15:28:57,458 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 3_14
2025-09-29 15:28:57,459 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:28:57,460 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 3_14
2025-09-29 15:28:57,460 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:28:57,461 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 3_14
2025-09-29 15:28:57,461 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:28:57,462 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 3_14
2025-09-29 15:28:59,040 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:29:02,526 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:29:03,916 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:29:03,917 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:29:03,917 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:29:03,918 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:29:03,918 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:29:03,918 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 3_14
2025-09-29 15:29:03,918 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:29:08,236 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:29:08,237 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:29:08,237 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:29:08,237 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:29:08,237 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:29:09,000 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:29:09,001 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:29:09,001 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:29:12,919 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:29:12,920 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:29:12,920 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:29:12,921 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:29:12,921 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:29:16,529 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:29:17,320 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:29:18,115 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\3_14\core_output_plot.png
2025-09-29 15:29:18,116 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\3_14: ['core_output_plot.png']
2025-09-29 15:29:18,116 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:29:18,116 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 3_14: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:29:31,600 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 3_14: 966 characters
2025-09-29 15:29:31,600 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 3_14
2025-09-29 15:29:31,602 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:29:31,603 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\3_14_report.md
2025-09-29 15:29:31,603 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\3_14_report.md
2025-09-29 15:29:31,610 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:29:31,610 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:29:31,610 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:29:31,611 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:29:31,611 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:29:31,611 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:29:31,613 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:29:31,613 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:29:31,614 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:29:31,615 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:29:31,615 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:29:31,616 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:29:31,624 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:29:31,716 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:29:31,717 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:29:31,717 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:29:31,718 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:29:31,718 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 3_15
2025-09-29 15:29:31,719 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:29:31,719 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:29:31,721 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with 1159 rows
2025-09-29 15:29:31,721 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with shape (1159, 6)
2025-09-29 15:29:31,726 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:29:31,727 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:29:31,727 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['2', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:29:31,727 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 2 with shape (1159, 6)
2025-09-29 15:29:31,732 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 2: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:29:31,733 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:29:31,758 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:29:31,758 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:29:31,760 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:29:31,760 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:29:31,760 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:29:31,760 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:29:32,085 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:29:32,085 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:29:32,085 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:29:32,085 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:29:32,383 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:29:35,283 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:29:37,776 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:29:41,480 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - WARNING - Failed to parse LLM threshold response as JSON: Expecting value: line 1 column 1 (char 0)
2025-09-29 15:29:41,480 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - Raw response: 以下の仕様書から抽出した閾値情報は次の通りです。

```json
{
    "thresholds": {
        "leye_openness_threshold": 0.0,
        "reye_openness_threshold": 0.0,
        "confidence_threshold": 0.0,
        "close_threshold": ...
2025-09-29 15:29:41,480 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - Fallback regex extracted thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5, 'confidence_score': 0.85}
2025-09-29 15:29:41,481 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold', 'confidence_score']
2025-09-29 15:29:41,481 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:29:41,481 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:29:41,481 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5, 'confidence_score': 0.85}
2025-09-29 15:29:41,481 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:29:41,481 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:29:41,481 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 3_15
2025-09-29 15:29:41,481 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 3_15
2025-09-29 15:29:41,482 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:29:41,483 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 3_15
2025-09-29 15:29:41,484 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:29:41,485 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with 1159 rows
2025-09-29 15:29:41,486 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with shape (1159, 6)
2025-09-29 15:29:41,491 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:29:41,492 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:29:43,140 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:29:43,140 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:29:43,142 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 3_15
2025-09-29 15:29:43,143 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:29:43,144 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 3_15
2025-09-29 15:29:43,144 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:29:43,145 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 3_15
2025-09-29 15:29:44,572 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.85)
2025-09-29 15:29:48,031 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:29:51,039 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:30:39,203 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted JSON from text
2025-09-29 15:30:39,203 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 3_15
2025-09-29 15:30:39,203 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 3_15
2025-09-29 15:30:39,204 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:30:39,205 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 3_15
2025-09-29 15:30:39,206 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:30:39,206 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 3_15
2025-09-29 15:30:39,206 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:30:39,208 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 3_15
2025-09-29 15:30:40,914 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:30:44,973 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:30:46,047 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.9)
2025-09-29 15:30:46,049 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:30:46,050 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:30:46,050 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:30:46,050 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:30:46,050 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 3_15
2025-09-29 15:30:46,050 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:30:47,310 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:30:47,311 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:30:47,311 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:30:47,312 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:30:47,312 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:30:47,999 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:30:48,000 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:30:48,000 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:30:49,120 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.85)
2025-09-29 15:30:49,122 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:30:49,122 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:30:49,122 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:30:49,122 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:30:50,277 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:30:51,062 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:30:51,879 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\3_15\core_output_plot.png
2025-09-29 15:30:51,879 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\3_15: ['core_output_plot.png']
2025-09-29 15:30:51,880 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:30:51,880 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 3_15: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:31:03,570 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 3_15: 888 characters
2025-09-29 15:31:03,571 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 3_15
2025-09-29 15:31:03,573 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:31:03,574 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\3_15_report.md
2025-09-29 15:31:03,574 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\3_15_report.md
2025-09-29 15:31:03,580 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:31:03,581 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:31:03,581 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:31:03,582 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:31:03,582 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:31:03,583 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:31:03,585 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:31:03,586 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:31:03,586 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:31:03,587 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:31:03,587 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:31:03,588 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:31:03,597 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:31:03,606 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:31:03,607 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:31:03,607 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:31:03,608 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:31:03,608 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 4_17
2025-09-29 15:31:03,610 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:31:03,610 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:31:03,613 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with 1517 rows
2025-09-29 15:31:03,613 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with shape (1517, 6)
2025-09-29 15:31:03,620 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:31:03,620 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:31:03,620 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['3', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:31:03,621 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 3 with shape (1517, 6)
2025-09-29 15:31:03,626 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 3: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:31:03,626 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:31:03,656 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:31:03,656 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:31:03,657 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:31:03,658 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:31:03,658 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:31:03,658 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:31:03,949 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:31:03,949 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:31:03,949 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:31:03,949 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:31:04,187 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:31:06,942 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:31:09,640 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:31:14,157 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - WARNING - Failed to parse LLM threshold response as JSON: Expecting value: line 1 column 1 (char 0)
2025-09-29 15:31:14,157 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - Raw response: 以下の仕様書から抽出した閾値情報は次の通りです。

```json
{
    "thresholds": {
        "leye_openness_threshold": 0.0,
        "reye_openness_threshold": 0.0,
        "confidence_threshold": 0.0,
        "close_threshold": ...
2025-09-29 15:31:14,157 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - Fallback regex extracted thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5, 'confidence_score': 0.85}
2025-09-29 15:31:14,158 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold', 'confidence_score']
2025-09-29 15:31:14,158 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:31:14,158 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:31:14,158 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5, 'confidence_score': 0.85}
2025-09-29 15:31:14,158 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:31:14,158 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:31:14,159 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 4_17
2025-09-29 15:31:14,159 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 4_17
2025-09-29 15:31:14,160 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:31:14,160 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 4_17
2025-09-29 15:31:14,161 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:31:14,163 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with 1517 rows
2025-09-29 15:31:14,163 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with shape (1517, 6)
2025-09-29 15:31:14,169 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:31:14,169 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:31:15,115 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:31:15,115 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:31:15,117 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 4_17
2025-09-29 15:31:15,118 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:31:15,119 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 4_17
2025-09-29 15:31:15,119 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:31:15,120 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 4_17
2025-09-29 15:31:16,971 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:31:20,199 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:31:21,174 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:32:02,356 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted JSON from text
2025-09-29 15:32:02,357 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 4_17
2025-09-29 15:32:02,357 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 4_17
2025-09-29 15:32:02,358 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:32:02,358 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 4_17
2025-09-29 15:32:02,360 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:32:02,361 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 4_17
2025-09-29 15:32:02,361 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:32:02,363 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 4_17
2025-09-29 15:32:06,499 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:32:10,530 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:32:11,767 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:32:11,768 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:32:11,768 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:32:11,768 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:32:11,768 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:32:11,769 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 4_17
2025-09-29 15:32:11,769 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:32:13,063 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:32:13,063 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:32:13,063 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:32:13,064 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:32:13,064 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:32:13,848 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:32:13,849 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:32:13,849 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:32:15,382 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:32:15,383 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:32:15,383 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:32:15,383 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:32:15,383 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:32:16,397 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.85)
2025-09-29 15:32:17,277 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:32:18,083 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\4_17\core_output_plot.png
2025-09-29 15:32:18,084 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\4_17: ['core_output_plot.png']
2025-09-29 15:32:18,084 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:32:18,084 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 4_17: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:32:29,528 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 4_17: 904 characters
2025-09-29 15:32:29,528 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 4_17
2025-09-29 15:32:29,529 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:32:29,530 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\4_17_report.md
2025-09-29 15:32:29,531 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\4_17_report.md
2025-09-29 15:32:29,537 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:32:29,538 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:32:29,538 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:32:29,539 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:32:29,539 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:32:29,539 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:32:29,541 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:32:29,542 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:32:29,544 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:32:29,544 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:32:29,545 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:32:29,545 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:32:29,553 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:32:29,562 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:32:29,563 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:32:29,563 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:32:29,564 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:32:29,564 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 4_18
2025-09-29 15:32:29,565 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:32:29,566 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:32:29,567 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\4.csv with 1347 rows
2025-09-29 15:32:29,568 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\4.csv with shape (1347, 6)
2025-09-29 15:32:29,573 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:32:29,573 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:32:29,573 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['4', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:32:29,574 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 4 with shape (1347, 6)
2025-09-29 15:32:29,578 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 4: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:32:29,579 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:32:29,604 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:32:29,605 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:32:29,608 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:32:29,608 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:32:29,608 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:32:29,608 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:32:30,014 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:32:30,015 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:32:30,015 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:32:30,015 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:32:30,297 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:32:34,092 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:32:36,801 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:32:39,070 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold']... (confidence: 0.85)
2025-09-29 15:32:39,070 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold']
2025-09-29 15:32:39,071 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:32:39,071 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:32:39,071 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5}
2025-09-29 15:32:39,071 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:32:39,071 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:32:39,071 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 4_18
2025-09-29 15:32:39,072 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 4_18
2025-09-29 15:32:39,073 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:32:39,073 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 4_18
2025-09-29 15:32:39,074 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:32:39,076 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\4.csv with 1347 rows
2025-09-29 15:32:39,076 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\4.csv with shape (1347, 6)
2025-09-29 15:32:39,081 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:32:39,082 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:32:40,069 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:32:40,069 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:32:40,071 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 4_18
2025-09-29 15:32:40,072 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:32:40,072 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 4_18
2025-09-29 15:32:40,073 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:32:40,074 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 4_18
2025-09-29 15:32:44,188 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:32:48,120 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:32:49,179 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:33:28,684 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted JSON from text
2025-09-29 15:33:28,684 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 4_18
2025-09-29 15:33:28,685 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 4_18
2025-09-29 15:33:28,686 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:33:28,686 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 4_18
2025-09-29 15:33:28,687 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:33:28,687 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 4_18
2025-09-29 15:33:28,688 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:33:28,689 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 4_18
2025-09-29 15:33:30,595 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.85)
2025-09-29 15:33:34,269 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:33:35,478 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:33:35,479 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:33:35,479 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:33:35,479 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:33:35,479 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:33:35,479 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 4_18
2025-09-29 15:33:35,479 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:33:36,971 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.85)
2025-09-29 15:33:36,971 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:33:36,971 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:33:36,972 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:33:36,972 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:33:37,870 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:33:37,871 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:33:37,871 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:33:39,053 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:33:39,054 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:33:39,054 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:33:39,054 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:33:39,055 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:33:40,087 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.85)
2025-09-29 15:33:40,958 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:33:41,874 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\4_18\core_output_plot.png
2025-09-29 15:33:41,875 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\4_18: ['core_output_plot.png']
2025-09-29 15:33:41,875 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:33:41,875 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 4_18: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:33:55,271 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 4_18: 935 characters
2025-09-29 15:33:55,271 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 4_18
2025-09-29 15:33:55,272 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:33:55,273 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\4_18_report.md
2025-09-29 15:33:55,274 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\4_18_report.md
2025-09-29 15:33:55,280 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:33:55,280 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:33:55,280 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:33:55,281 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:33:55,281 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:33:55,281 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:33:55,283 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:33:55,284 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:33:55,285 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:33:55,285 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:33:55,286 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:33:55,286 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:33:55,294 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:33:55,301 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:33:55,301 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:33:55,302 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:33:55,302 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:33:55,303 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 4_19
2025-09-29 15:33:55,303 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:33:55,303 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:33:55,305 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with 1041 rows
2025-09-29 15:33:55,305 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with shape (1041, 6)
2025-09-29 15:33:55,310 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:33:55,310 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:33:55,310 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['1', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:33:55,310 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 1 with shape (1041, 6)
2025-09-29 15:33:55,315 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 1: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:33:55,315 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:33:55,338 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:33:55,339 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:33:55,340 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:33:55,340 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:33:55,340 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:33:55,340 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:33:55,668 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:33:55,668 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:33:55,668 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:33:55,668 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:33:55,906 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:33:58,835 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:34:01,775 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:34:05,522 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold']... (confidence: 0.85)
2025-09-29 15:34:05,522 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold']
2025-09-29 15:34:05,522 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:34:05,522 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:34:05,522 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5}
2025-09-29 15:34:05,523 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:34:05,523 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:34:05,523 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 4_19
2025-09-29 15:34:05,523 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 4_19
2025-09-29 15:34:05,524 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:34:05,524 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 4_19
2025-09-29 15:34:05,525 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:34:05,526 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with 1041 rows
2025-09-29 15:34:05,526 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\1.csv with shape (1041, 6)
2025-09-29 15:34:05,532 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:34:05,532 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:34:06,378 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:34:06,379 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:34:06,382 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 4_19
2025-09-29 15:34:06,383 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:34:06,384 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 4_19
2025-09-29 15:34:06,385 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:34:06,385 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 4_19
2025-09-29 15:34:08,379 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:34:12,300 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:34:13,656 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.9)
2025-09-29 15:34:56,747 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted JSON from text
2025-09-29 15:34:56,747 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 4_19
2025-09-29 15:34:56,747 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 4_19
2025-09-29 15:34:56,748 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:34:56,749 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 4_19
2025-09-29 15:34:56,749 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:34:56,750 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 4_19
2025-09-29 15:34:56,750 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:34:56,751 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 4_19
2025-09-29 15:34:58,802 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:35:02,445 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:35:03,492 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:35:03,492 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:35:03,492 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:35:03,493 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:35:03,493 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:35:03,493 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 4_19
2025-09-29 15:35:03,494 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:35:05,165 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:35:05,165 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:35:05,165 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:35:05,165 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:35:05,166 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:35:05,954 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:35:05,955 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:35:05,955 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:35:07,674 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.85)
2025-09-29 15:35:07,675 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:35:07,676 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:35:07,676 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:35:07,677 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:35:09,180 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:35:10,179 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:35:10,913 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\4_19\core_output_plot.png
2025-09-29 15:35:10,914 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\4_19: ['core_output_plot.png']
2025-09-29 15:35:10,914 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:35:10,914 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 4_19: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:35:25,153 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 4_19: 1152 characters
2025-09-29 15:35:25,154 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 4_19
2025-09-29 15:35:25,155 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:35:25,157 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\4_19_report.md
2025-09-29 15:35:25,157 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\4_19_report.md
2025-09-29 15:35:25,164 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:35:25,164 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:35:25,164 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:35:25,165 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:35:25,165 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:35:25,165 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:35:25,168 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:35:25,169 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:35:25,170 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:35:25,170 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:35:25,171 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:35:25,171 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:35:25,178 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:35:25,186 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:35:25,186 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:35:25,186 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:35:25,187 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:35:25,187 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 4_20
2025-09-29 15:35:25,187 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:35:25,188 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:35:25,189 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with 1159 rows
2025-09-29 15:35:25,189 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with shape (1159, 6)
2025-09-29 15:35:25,194 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:35:25,194 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:35:25,194 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['2', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:35:25,194 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 2 with shape (1159, 6)
2025-09-29 15:35:25,200 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 2: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:35:25,200 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:35:25,224 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:35:25,224 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:35:25,225 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:35:25,225 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:35:25,225 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:35:25,225 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:35:25,526 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:35:25,526 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:35:25,527 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:35:25,527 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:35:25,864 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:35:28,778 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:35:31,418 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:35:34,101 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold']... (confidence: 0.85)
2025-09-29 15:35:34,102 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold']
2025-09-29 15:35:34,102 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:35:34,102 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:35:34,103 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5}
2025-09-29 15:35:34,103 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:35:34,103 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:35:34,103 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 4_20
2025-09-29 15:35:34,103 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 4_20
2025-09-29 15:35:34,104 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:35:34,104 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 4_20
2025-09-29 15:35:34,105 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:35:34,106 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with 1159 rows
2025-09-29 15:35:34,107 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\2.csv with shape (1159, 6)
2025-09-29 15:35:34,112 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:35:34,112 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:35:35,026 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:35:35,026 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:35:35,028 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 4_20
2025-09-29 15:35:35,028 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:35:35,029 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 4_20
2025-09-29 15:35:35,030 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:35:35,030 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 4_20
2025-09-29 15:35:36,772 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:35:40,402 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:35:41,414 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:36:20,827 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted JSON from text
2025-09-29 15:36:20,827 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 4_20
2025-09-29 15:36:20,828 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 4_20
2025-09-29 15:36:20,828 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:36:20,830 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 4_20
2025-09-29 15:36:20,830 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:36:20,831 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 4_20
2025-09-29 15:36:20,832 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:36:20,832 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 4_20
2025-09-29 15:36:22,361 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:36:26,151 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:36:27,260 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:36:27,260 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:36:27,260 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:36:27,261 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:36:27,261 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:36:27,261 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 4_20
2025-09-29 15:36:27,261 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:36:29,194 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:36:29,194 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:36:29,194 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:36:29,194 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:36:29,195 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:36:30,000 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:36:30,001 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:36:30,001 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:36:32,138 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.85)
2025-09-29 15:36:32,140 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:36:32,140 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:36:32,140 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:36:32,140 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:36:34,523 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.85)
2025-09-29 15:36:35,597 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:36:36,398 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\4_20\core_output_plot.png
2025-09-29 15:36:36,402 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\4_20: ['core_output_plot.png']
2025-09-29 15:36:36,402 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:36:36,403 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 4_20: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:36:56,489 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 4_20: 1132 characters
2025-09-29 15:36:56,490 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 4_20
2025-09-29 15:36:56,491 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:36:56,493 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\4_20_report.md
2025-09-29 15:36:56,493 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\4_20_report.md
2025-09-29 15:36:56,499 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:36:56,500 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:36:56,500 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:36:56,501 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Created analysis request with 1 datasets
2025-09-29 15:36:56,501 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Starting analysis workflow...
2025-09-29 15:36:56,501 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Starting analysis workflow
2025-09-29 15:36:56,504 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Starting initialization
2025-09-29 15:36:56,505 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_specs
2025-09-29 15:36:56,506 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_specs
2025-09-29 15:36:56,507 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_specs
2025-09-29 15:36:56,507 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_specs
2025-09-29 15:36:56,507 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: algorithm_code
2025-09-29 15:36:56,515 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for algorithm_code
2025-09-29 15:36:56,523 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Initializing vector store for segment: evaluation_code
2025-09-29 15:36:56,523 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.rag_tool - INFO - Loading existing vector store for evaluation_code
2025-09-29 15:36:56,524 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Initialization completed successfully
2025-09-29 15:36:56,524 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:36:56,524 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: data_checker for dataset 4_21
2025-09-29 15:36:56,525 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checker processing
2025-09-29 15:36:56,525 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - 


======



2025-09-29 15:36:56,526 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with 1517 rows
2025-09-29 15:36:56,526 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with shape (1517, 6)
2025-09-29 15:36:56,532 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:36:56,532 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:36:56,532 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Loaded 2 dataframes: ['3', 'WIN_20250819_10_16_17_Pro_analysis']
2025-09-29 15:36:56,532 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe 3 with shape (1517, 6)
2025-09-29 15:36:56,537 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for 3: ['frame_num', 'is_drowsy', 'continuous_time']
2025-09-29 15:36:56,537 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Analyzing dataframe WIN_20250819_10_16_17_Pro_analysis with shape (1347, 29)
2025-09-29 15:36:56,560 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Computed representative stats for WIN_20250819_10_16_17_Pro_analysis: ['frame', 'leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'nose_length', 'normal_vector', 'distance_x', 'distance_y', 'triangle_area', 'eye_distance', 'eye_roi_width', 'eye_roi_height', 'left_eye_x', 'left_eye_y', 'left_eye_z', 'right_eye_x', 'right_eye_y', 'right_eye_z', 'nose_tip_x', 'nose_tip_y', 'nose_tip_z', 'nose_bridge_x', 'nose_bridge_y', 'nose_bridge_z', 'triangle_center_x', 'triangle_center_y']
2025-09-29 15:36:56,560 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Creating data plots
2025-09-29 15:36:56,561 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - ERROR - Failed to create plots: name 'filtered_df' is not defined
2025-09-29 15:36:56,562 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Created plot paths: {}
2025-09-29 15:36:56,562 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Getting column information from specs
2025-09-29 15:36:56,562 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:36:56,829 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:36:56,830 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column info keys: ['spec_results', 'inferred_columns']
2025-09-29 15:36:56,830 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracting column mapping from specs
2025-09-29 15:36:56,830 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Searching for column information in specs
2025-09-29 15:36:57,473 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Found 1 spec results
2025-09-29 15:37:00,148 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time', 'face_conf_threshold', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:37:03,353 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:37:05,319 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold']... (confidence: 0.85)
2025-09-29 15:37:05,320 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Extracted column mapping - input: [], output: [], thresholds: ['leye_openness_threshold', 'reye_openness_threshold', 'confidence_threshold', 'close_threshold']
2025-09-29 15:37:05,321 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Input: {}
2025-09-29 15:37:05,321 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Output: {}
2025-09-29 15:37:05,321 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - COLUMN_MAPPING_USED - Thresholds: {'leye_openness_threshold': 0.0, 'reye_openness_threshold': 0.0, 'confidence_threshold': 0.0, 'close_threshold': 0.5}
2025-09-29 15:37:05,321 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Column mapping keys: ['column_mapping']
2025-09-29 15:37:05,323 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Storing analysis results in state
2025-09-29 15:37:05,323 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Successfully stored results for dataset 4_21
2025-09-29 15:37:05,323 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Data checking completed for dataset 4_21
2025-09-29 15:37:05,324 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:37:05,325 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: consistency_checker for dataset 4_21
2025-09-29 15:37:05,325 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checker processing
2025-09-29 15:37:05,327 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with 1517 rows
2025-09-29 15:37:05,327 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/03_algorithm_output\v0.1.1+fa5172ba\20250922-133705\3.csv with shape (1517, 6)
2025-09-29 15:37:05,332 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully read CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with 1347 rows
2025-09-29 15:37:05,333 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.tools.repl_tool - INFO - Loaded CSV ../development_datas/02_core_lib_output/v1.0.0/4\WIN_20250819_10_16_17_Pro_analysis.csv with shape (1347, 29)
2025-09-29 15:37:07,199 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - No frame interval found in text using LLM
2025-09-29 15:37:07,199 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - WARNING - Frame range contains None values
2025-09-29 15:37:07,201 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Consistency checking completed for dataset 4_21
2025-09-29 15:37:07,202 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:37:07,203 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: hypothesis_generator for dataset 4_21
2025-09-29 15:37:07,203 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Hypothesis generator processing
2025-09-29 15:37:07,204 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generating hypotheses for dataset 4_21
2025-09-29 15:37:08,859 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:37:13,478 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:37:14,665 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.9)
2025-09-29 15:37:49,232 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted JSON from text
2025-09-29 15:37:49,232 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.hypothesis_generator_agent - INFO - Generated 0 hypotheses for dataset 4_21
2025-09-29 15:37:49,232 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Generated 0 hypotheses for dataset 4_21
2025-09-29 15:37:49,233 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Supervisor processing
2025-09-29 15:37:49,234 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Next step: verifier for dataset 4_21
2025-09-29 15:37:49,235 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verifier processing
2025-09-29 15:37:49,235 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Verification completed for dataset 4_21
2025-09-29 15:37:49,236 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Reporter processing
2025-09-29 15:37:49,236 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating report for dataset 4_21
2025-09-29 15:37:53,432 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted thresholds: ['left_eye_close_threshold', 'right_eye_close_threshold', 'continuous_close_time']... (confidence: 0.92)
2025-09-29 15:37:56,875 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['frame_num', 'left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy']... (confidence: 0.9)
2025-09-29 15:37:58,495 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.exploration_utils - INFO - LLM extracted columns: ['is_drowsy']... (confidence: 0.95)
2025-09-29 15:37:58,495 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded algorithm spec: 4718 characters
2025-09-29 15:37:58,495 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Loaded evaluation spec: 463 characters
2025-09-29 15:37:58,495 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm spec preview: # 連続閉眼検知アルゴリズム仕様書 (AS_drowsy_detection)

## 1. 概要・目的

### 1.1 アルゴリズム名
- 連続閉眼検知アルゴリズム (Continuous Eye Closure Detection)
- 略称: AS_drowsy_detection
- バージョン: v0.1.1

### 1.2 目的・背景
- 左右の目の開眼度 (0.0 = 完全閉眼 
2025-09-29 15:37:58,496 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Evaluation spec preview: # Evaluation Engine

This module evaluates the drowsy_detection algorithm using core library outputs stored in ../DataWareHouse.

- Input scope: ../DataWareHouse/02_core_lib_output
- Per-video algorit
2025-09-29 15:37:58,496 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generating visualization plots for dataset 4_21
2025-09-29 15:37:58,496 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - 


======



2025-09-29 15:37:59,874 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:37:59,875 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - using RAG-matched columns: ['is_drowsy']
2025-09-29 15:37:59,875 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Algorithm output plot - final columns: ['is_drowsy']
2025-09-29 15:37:59,875 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Algorithm: ['is_drowsy']
2025-09-29 15:37:59,876 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for algorithm plot: frame_num
2025-09-29 15:38:00,669 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:38:00,670 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Failed to generate algorithm output plot: name 'df' is not defined
2025-09-29 15:38:00,670 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - ERROR - Plot code snippet around error:
shold_name.lower().replace('_threshold', '').replace('_', '') in col.lower():
            label_text = threshold_name + ': ' + str(threshold_value)
            axes[i].axhline(y=threshold_value, color='red', linestyle='--', label=label_text)

    axes[i].set_title(col + ' - Algorithm Output')
    axes[i].set_xlabel(x_label)
    axes[i].set_ylabel('Value')
    axes[i].legend()
    axes[i].grid(True, alpha=0.3)

plt.tight_layout()
plt.savefig(output_path, dpi=150, bbox_inches='tight')
plt.close()

2025-09-29 15:38:02,353 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:38:02,353 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - fallback to numeric columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:38:02,354 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Core output plot - final input columns: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:38:02,354 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - PLOT_COLUMNS_USED - Core: ['leye_openness', 'reye_openness', 'confidence', 'face_yaw', 'face_pitch', 'frame']
2025-09-29 15:38:02,354 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Using inferred x-axis column for core plot: frame
2025-09-29 15:38:03,730 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - LLM extracted keywords: ['left_eye_open', 'right_eye_open', 'face_confidence', 'is_drowsy', 'face_conf_threshold']... (confidence: 0.85)
2025-09-29 15:38:04,513 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - No frame interval found in text using LLM
2025-09-29 15:38:05,250 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated core output plot: output\images\4_21\core_output_plot.png
2025-09-29 15:38:05,252 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Found plot files in output\images\4_21: ['core_output_plot.png']
2025-09-29 15:38:05,252 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Assigned plot files: algorithm='core_output_plot.png', core=''
2025-09-29 15:38:05,252 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated plots for dataset 4_21: {'algorithm': 'core_output_plot.png', 'core': ''}
2025-09-29 15:38:18,852 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.agents.reporter_agent - INFO - Generated report for dataset 4_21: 1140 characters
2025-09-29 15:38:18,852 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.nodes - INFO - Report generated for dataset 4_21
2025-09-29 15:38:18,854 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.core.graph - INFO - Analysis workflow completed
2025-09-29 15:38:18,855 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.utils.file_utils - INFO - Successfully wrote to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\4_21_report.md
2025-09-29 15:38:18,855 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Report saved: C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\reports\4_21_report.md
2025-09-29 15:38:18,862 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - JSON results saved to C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results\analysis_results.json
2025-09-29 15:38:18,862 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Results processing completed in C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\outputs\analysis_report_20250929_152108\results
2025-09-29 15:38:18,862 - ai_analysis_engine.ai_analysis_engine.instance_analyzer.main - INFO - Analysis workflow completed successfully
2025-09-29 15:38:18,865 - ai_analysis_engine.orchestrator.orchestrator - INFO - Instance analysis completed: 11 instances analyzed
2025-09-29 15:38:18,865 - ai_analysis_engine.orchestrator.orchestrator - ERROR - Analysis failed: 'str' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\src\ai_analysis_engine\orchestrator\orchestrator.py", line 197, in run_analysis_by_evaluation_result
    integrated_results = self._integrate_results(performance_results, instance_results)
  File "C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\src\ai_analysis_engine\orchestrator\orchestrator.py", line 370, in _integrate_results
    'recommendations': self._generate_recommendations(performance_results, instance_results),
  File "C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\src\ai_analysis_engine\orchestrator\orchestrator.py", line 391, in _generate_recommendations
    error_instances = [res for res in instance_results if isinstance(res, dict) and res.get('summary', {}).get('has_errors')]
  File "C:\workspace\ImproveAlgorithmDevelopment\ai_analysis_engine\src\ai_analysis_engine\orchestrator\orchestrator.py", line 391, in <listcomp>
    error_instances = [res for res in instance_results if isinstance(res, dict) and res.get('summary', {}).get('has_errors')]
AttributeError: 'str' object has no attribute 'get'
